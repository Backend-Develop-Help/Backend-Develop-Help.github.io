---
title: VSCode
date: 2024-04-27 16:19:46
author: ethandu
permalink: /pages/6598a4/
---
# VSCode操作

## VSCode界面的放大和缩小

（大屏用放大看还算是比较舒服的）

![img](/img/ethandu/办公软件/VSCode.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zNzkzMDcxNg==,size_16,color_FFFFFF,t_70.png)

# VSCode美化

- Material Icon Theme （ui主题）
- indent-rainbow （缩进带颜色）
- TODO Highlight



# VSCode环境配置

## VSCode配置C++开发环境

**务必注意！**调试的**文件名**和**文件路径**中不能出现**中文字符！！**否则将无法启动调试！
这是由于调试用到的mingw中的gdb不支持中文路径！和vscode无关，下面是两个**错误示范**

### 下载MinGW

进入https://sourceforge.net/projects/mingw-w64/files/官网找到files往下翻

![image-20220808144120642](/img/ethandu/办公软件/VSCode.assets/image-20220808144120642.png)

我们选择离线包的方式下载，下载x86_64-posix-sjlj

> 几种格式解释

- dwarf 架构32位，性能好
- sjlj 支持64位和32位，稳定性好
- seh 支持架构64位，不支持32位，性能好

解压以后再配置环境变量。

cmd测试环境是否安装完成

```bash
gcc-v
```

![image-20220808144034854](/img/ethandu/办公软件/VSCode.assets/image-20220808144034854.png)

### 安装必要插件

- C/C++
- Code Runner

搜索C/C++，搜到后点进去：

![image-20220118163143686](/img/ethandu/办公软件/VSCode.assets/4d7c2d0cec154410b6e43618366a38f5tplv-k3u1fbpfcp-zoom-in-crop-mark3024000.webp)

### VSCode中的配置

依次打开：**文件>首选项>设置>用户>拓展>Run Code Configuration**
找到**`Run In Terminal`**勾选上

![image-20220808144856962](/img/ethandu/办公软件/VSCode.assets/image-20220808144856962.png)

然后我们点击Run Code，这下就完成了！

![image-20220808145106662](/img/ethandu/办公软件/VSCode.assets/image-20220808145106662.png)

### 如何配置并开放调试

在工程下创建这么一个文件树

![image-20220808145737450](/img/ethandu/办公软件/VSCode.assets/image-20220808145737450.png)

**然后将下面的代码复制到对应的json文件中去并保存，要仔细阅读后面两段说明性文字**

**launch.json**

```json
{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "C/C++",
            "type": "cppdbg",
            "request": "launch",
            "program": "${fileDirname}/${fileBasenameNoExtension}.exe",
            "args": [],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "miDebuggerPath": "gdb.exe",
            "preLaunchTask": "compile",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                }
            ],
        },
    ]
}
```

**tasks.json**

> **如果需要是`c语言`也就是`gcc`将下面的`command`项由`g++`改为`gcc`**
> **如果是多文件编译（即函数声明和函数定义分开，不懂的别乱改），需要将args列表中的`"${file}"`项修改为`"${workspaceFolder}/\*.cpp"` ，多文件推荐用cmake**

```json
{
    "version": "2.0.0",
    "tasks": [
        {
            "type": "shell",
            "label": "compile",
            "command": "g++",
            "args": [
                "-g",
                "${file}",
                "-o",
                "${fileDirname}\\${fileBasenameNoExtension}.exe"
            ],
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        }
    ]
}
```

事实上现在已经可以正常调试了，并且现在可以按 **ctrl+shift+b** 直接调用配置好的task编译而不运行程序，类似于一些IDE的编译选项

![image-20220808145835859](/img/ethandu/办公软件/VSCode.assets/image-20220808145835859.png)

![image-20220808145854623](/img/ethandu/办公软件/VSCode.assets/image-20220808145854623.png)



集成终端在底部终端栏输入数据，如果是希望像vs2019一样，启动调试后**显示外部窗口而不是在vscode集成终端进行调试**
**只需将`launch.json`中的`"externalConsole"`后面的值由false改为true**

![image-20220808150006837](/img/ethandu/办公软件/VSCode.assets/image-20220808150006837.png)

这下就很方便了，和我们在VS2022上面的debug体验是一样的！在左边栏还可以添加监视。

![image-20220808150157711](/img/ethandu/办公软件/VSCode.assets/image-20220808150157711.png)



#### 第二种配置

launch.json

```json
{
    "version": "0.2.0",
    "configurations": [
        
        
        {
            "name": "gcc.exe - 生成和调试活动文件",  // 该调试任务的名字，启动调试时会在待选列表中显示
            "type": "cppdbg",
            "request": "launch",
            "program": "${fileDirname}\\${fileBasenameNoExtension}.exe",
            "args": [],
            "stopAtEntry": false,  // 这一项控制是否在入口处暂停，默认false不暂停，改为true暂停
            "cwd": "${workspaceFolder}",
            "environment": [],
            "externalConsole": false,  // 这一项控制是否启动外部控制台（独立的黑框）运行程序，默认false表示在集成终端中运行
            "MIMode": "gdb",
            "miDebuggerPath": "D:\\Environment\\gcc\\bin\\gdb.exe",  // 调试器路径，必须与你自己的电脑相符
            "setupCommands": [
                {
                    "description": "为 gdb 启用整齐打印",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                }
            ],
            "preLaunchTask": "C/C++: gcc.exe build active file"  // 调试前的预执行任务，这里的值是tasks.json文件中对应的编译任务，也就是调试前需要先编译
        }
    ]
}
```



tasks.json

```json
{
    "tasks": [
        {
            "type": "shell",
            "label": "C/C++: gcc.exe build active file",
            "command": "D:\\Environment\\gcc\\bin\\gcc.exe",
            "args": [
                "-g",
                "${file}",
                "-o",
                "${fileDirname}\\${fileBasenameNoExtension}.exe"
            ],
            "options": {
                "cwd": "D:\\Environment\\gcc\\bin"
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": "build"
        },
        {
            "type": "cppbuild",
            "label": "C/C++: g++.exe 生成活动文件",
            "command": "D:\\Environment\\gcc\\bin\\g++.exe",
            "args": [
                "-fdiagnostics-color=always",
                "-g",
                "${file}",
                "-o",
                "${fileDirname}\\${fileBasenameNoExtension}.exe"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "detail": "调试器生成的任务。"
        }
    ],
    "version": "2.0.0"
}
```



### 解决VSCode控制台中文乱码

ctrl+shift+p搜索并打开settings.json文件，并且粘贴下面内容，记得如果前面有内容记得补全","，保证json格式！

```json
"terminal.integrated.profiles.windows": {
"Command Prompt": {
"path": "C:\\Windows\\System32\\cmd.exe",
"args": ["-NoExit", "/K", "chcp 65001"]
},
"PowerShell": {
"source": "PowerShell",
"args": ["-NoExit", "/C", "chcp 65001"]
}
},
"terminal.integrated.defaultProfile.windows": "Command Prompt"
```

重启vscode就已经解决了！

![image-20220808151112183](/img/ethandu/办公软件/VSCode.assets/image-20220808151112183.png)



> 解释

在settings.json中，可以使用 path或 source以及一组可选参数来创建配置文件。source可以让 VS Code 检测安装PowerShell或Git Bash，或者可以使用path直接指向 shell 可执行文件 。source仅在 Windows 上可用。以下是一些示例配置文件配置：

```json
{
  // windows下
  "terminal.integrated.profiles.windows": {
    // 配置的名字，随便起
    "PowerShell -NoProfile": {
      "source": "PowerShell",
      "args": ["-NoProfile"]
    }
  },
  // linux下
  "terminal.integrated.profiles.linux": {
    "zsh (login)": {
      "path": "zsh",
      "args": ["-l"]
    }
  }
}
```

我们还可以通过**`terminal.integrated.defaultProfile.\*`**设置默认终端配置：

```json
"terminal.integrated.profiles.windows": {
    "Command Prompt": {
        "path": "C:\\Windows\\System32\\cmd.exe",
        "args": ["-NoExit", "/K", "chcp 65001"]
    },
    "PowerShell": {
        "source": "PowerShell",
        "args": ["-NoExit", "/C", "chcp 65001"]
    }
},
"terminal.integrated.defaultProfile.windows": "Command Prompt"
```

解决乱码问题，思路还是和原先一样，Windows默认的终端编码为GBK，我们需要在进入终端的时候切换成UTF8格式的，使用chcp 65001来进行切换。

下面我简单地配置了一下cmd和powershell的配置，windows可以通过terminal.integrated.defaultProfile.windows切换不同的默认配置，喜欢用cmd做默认终端的可以选择Command Prompt这个配置，喜欢用PowerShell做默认终端就选择PowerShell配置，根据自己喜好哈。

```json
"terminal.integrated.profiles.windows": {
    "Command Prompt": {
        "path": "C:\\Windows\\System32\\cmd.exe",
        "args": ["-NoExit", "/K", "chcp 65001"]
    },
    "PowerShell": {
        "source": "PowerShell",
        "args": ["-NoExit", "/C", "chcp 65001"]
    }
},
"terminal.integrated.defaultProfile.windows": "Command Prompt"
```

## VSCode设置java开发环境

### 安装必要插件

1. Java Extension Pack

### VSCode中的配置

打开settings.json，最好是打开用户设置。

```json
"java.jdt.ls.java.home": "D:\\Environment\\Zulu\\zulu8", 
```

粘贴进去这一段。

这个是新版的配置方式，旧版的如下：

```json
"java.home": "D:\\Environment\\Zulu\\zulu8", 
```



现在打开一个java文件，拥有main函数的话已经可以运行了。

![image-20220808162056106](/img/ethandu/办公软件/VSCode.assets/image-20220808162056106.png)

我们点击run就可以运行，点击Debug就可以调试。



## VSCode变成leetcode刷题机

下载leetcode插件。



摸鱼技巧，把题目面板尽量缩小。把题号隐藏。

![image-20220808180814264](/img/ethandu/办公软件/VSCode.assets/image-20220808180814264.png)

下载Jetbrains伪装主题

- **JetBrains Icon Theme**

- **JetBrains Darcula Theme**

